<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rectangular Grid</title>
<style>
body {
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background-color: #fff;
}
.grid-container {
  display: grid;
  grid-template-rows: repeat(50, 1fr);
  grid-template-columns: repeat(50, 1fr);
  gap: 5px;
  padding:5px;
  width: 500px;
  aspect-ratio: 1;
  border: 2px solid #000;
}
.rect {
  background-color: #fff;
  border: 1px solid #000;
}
</style>
</head>
<body>
<div class="grid-container">
</div>
<script>
const container = document.querySelector('.grid-container');
const gridSize = 50;
const grid = Array.from({ length: gridSize }, () => Array(gridSize).fill(false)); 

function markBlock(row, col, rowSpan, colSpan) {
  for (let r = row; r < row + rowSpan; r++) {
    for (let c = col; c < col + colSpan; c++) {
      grid[r][c] = true;
    }
  }
}

function findNextEmptyCell() {
  for (let row = 0; row < gridSize; row++) {
    for (let col = 0; col < gridSize; col++) {
      if (!grid[row][col]) return { row, col };
    }
  }
  return null;
}

let nextCell = findNextEmptyCell();
while (nextCell) {
  const { row, col } = nextCell;

  let maxRowSpan = 1;
  let maxColSpan = 1;

  while (row + maxRowSpan < gridSize && !grid[row + maxRowSpan][col]) {
    maxRowSpan++;
  }

  while (col + maxColSpan < gridSize && !grid[row][col + maxColSpan]) {
    maxColSpan++;
  }

  const rowSpan = Math.ceil(Math.random() * Math.min(maxRowSpan,3));
  const colSpan = Math.ceil(Math.random() * Math.min(maxColSpan,3));

  const rect = document.createElement('div');
  rect.classList.add('rect');
  rect.style.gridRow = `span ${rowSpan}`;
  rect.style.gridColumn = `span ${colSpan}`;
  container.appendChild(rect);

  markBlock(row, col, rowSpan, colSpan);

  nextCell = findNextEmptyCell();
}
</script>
</body>
</html>
